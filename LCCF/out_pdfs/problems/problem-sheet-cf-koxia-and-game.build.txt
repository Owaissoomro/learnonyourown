=== latexmk -xelatex ===
Initial Win CP for (console input, console output, system): (CP437, CP65001, CP1252)
I changed them all to CP1252
Rc files read:
  NONE
Latexmk: This is Latexmk, John Collins, 15 June 2025. Version 4.87.
No existing .aux file, so I'll make a simple one, and require run of *latex.
Latexmk: applying rule 'pdflatex'...
Rule 'pdflatex':  Reasons for rerun
Category 'other':
  Rerun of 'pdflatex' forced or previously required:
    Reason or flag: 'Initial setup'

------------
Run number 1 of rule 'pdflatex'
------------
------------
Running 'pdflatex  -interaction=nonstopmode -file-line-error -recorder  "problem-sheet-cf-koxia-and-game.tex"'
------------
This is pdfTeX, Version 3.141592653-2.6-1.40.27 (MiKTeX 25.4) (preloaded format=pdflatex.fmt)
 restricted \write18 enabled.
entering extended mode
(problem-sheet-cf-koxia-and-game.tex
LaTeX2e <2025-06-01> patch level 1
L3 programming layer <2025-09-02>
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\article.cls
Document Class: article 2025/01/22 v1.4n Standard LaTeX document class
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\size12.clo))
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\keyval.sty)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\ifvtex.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\iftex.sty))
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.cfg))

(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/etoolbox\etoolbox.sty)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype-pdf
tex.def)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.cfg
))
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/setspace\setspace.sty)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3packages/xparse\xpars
e.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3kernel\expl3.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3backend\l3backend-pdf
tex.def)))

C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.sty:10
1: Fatal Package fontspec Error: The fontspec package requires either XeTeX or
(fontspec)                      LuaTeX.
(fontspec)                      
(fontspec)                      You must change your typesetting engine to,
(fontspec)                      e.g., "xelatex" or "lualatex" instead of
(fontspec)                      "latex" or "pdflatex".

Type <return> to continue.
 ...                                              
                                                  
l.101 \msg_fatal:nn {fontspec} {cannot-use-pdftex}
                                                  

Latexmk: Getting log file 'problem-sheet-cf-koxia-and-game.log'
Latexmk: Examining 'problem-sheet-cf-koxia-and-game.fls'
Latexmk: Examining 'problem-sheet-cf-koxia-and-game.log'
Latexmk: Errors, in force_mode: so I tried finishing targets
Collected error summary (may duplicate other messages):
  pdflatex: Command for 'pdflatex' gave return code 1
      Refer to 'problem-sheet-cf-koxia-and-game.log' and/or above output for details


Latexmk: Using bibtex to make bibliography file(s).
Failure to make 'problem-sheet-cf-koxia-and-game.pdf'
Reverting Windows console CPs to (in,out) = (437,65001)

=== xelatex pass 1 ===
This is XeTeX, Version 3.141592653-2.6-0.999997 (MiKTeX 25.4) (preloaded format=xelatex.fmt)
 restricted \write18 enabled.
entering extended mode
(problem-sheet-cf-koxia-and-game.tex
LaTeX2e <2025-06-01> patch level 1
L3 programming layer <2025-09-02>
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\article.cls
Document Class: article 2025/01/22 v1.4n Standard LaTeX document class
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\size12.clo)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\keyval.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\ifvtex.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\iftex.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.cfg)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/etoolbox\etoolbox.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype-xetex.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.cfg)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/setspace\setspace.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3packages/xparse\xparse.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3kernel\expl3.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3backend\l3backend-xetex.def))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec-xetex.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\fontenc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.cfg))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsmath.sty
For additional information on amsmath, use the `?' option.
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amstext.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsgen.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsbsy.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsopn.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/mathtools\mathtools.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\calc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/mathtools\mhsetup.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amscls\amsthm.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/unicode-math\unicode-math.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/unicode-math\unicode-math-xetex.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3packages/l3keys2e\l3keys2e.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\fix-cm.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\ts1enc.def)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/unicode-math\unicode-math-table.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/xcolor\xcolor.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics-cfg\color.cfg) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics-def\xetex.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\mathcolor.ltx)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/xurl\xurl.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/url\url.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\hyperref.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/kvsetkeys\kvsetkeys.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/kvdefinekeys\kvdefinekeys.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pdfescape\pdfescape.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/ltxcmds\ltxcmds.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pdftexcmds\pdftexcmds.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/infwarerr\infwarerr.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hycolor\hycolor.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\nameref.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/refcount\refcount.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/gettitlestring\gettitlestring.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/kvoptions\kvoptions.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/stringenc\stringenc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\pd1enc.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/intcalc\intcalc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\puenc.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/bitset\bitset.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/bigintcalc\bigintcalc.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\hxetex.def (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/rerunfilecheck\rerunfilecheck.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/uniquecounter\uniquecounter.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fancyhdr\fancyhdr.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/enumitem\enumitem.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/booktabs\booktabs.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\tabularx.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\array.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\listings.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\lstpatch.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\lstmisc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\listings.cfg)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/upquote\upquote.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\textcomp.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcolorbox.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/frontendlayer\tikz.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/basiclayer\pgf.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/utilities\pgfrcs.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfutil-common.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfutil-latex.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfrcs.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf\pgf.revision.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/basiclayer\pgfcore.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\graphicx.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\graphics.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\trig.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics-cfg\graphics.cfg))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/systemlayer\pgfsys.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfkeys.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfkeyslibraryfiltered.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgf.cfg) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys-xetex.def (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys-dvipdfmx.def (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys-common-pdf.def)))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsyssoftpath.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsysprotocol.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcore.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmath.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathutil.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathparser.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.basic.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.trigonometric.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.random.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.comparison.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.base.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.round.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.misc.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.integerarithmetics.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathcalc.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfloat.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfint.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepoints.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepathconstruct.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepathusage.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorescopes.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoregraphicstate.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoretransformations.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorequick.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreobjects.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepathprocessing.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorearrows.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreshade.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreimage.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreexternal.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorelayers.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoretransparency.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepatterns.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorerdf.code.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/modules\pgfmoduleshapes.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/modules\pgfmoduleplot.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/compatibility\pgfcomp-version-0-65.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/compatibility\pgfcomp-version-1-18.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/utilities\pgffor.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/utilities\pgfkeys.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfkeys.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/math\pgfmath.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmath.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgffor.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/frontendlayer/tikz\tikz.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/libraries\pgflibraryplothandlers.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/modules\pgfmodulematrix.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/frontendlayer/tikz/libraries\tikzlibrarytopaths.code.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\verbatim.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/environ\environ.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/trimspaces\trimspaces.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbraster.code.tex
Library (tcolorbox): 'tcbraster.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbskins.code.tex
Library (tcolorbox): 'tcbskins.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tikzfill\tikzfill.image.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tikzfill\tikzfill-common.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tikzfill\tikzlibraryfill.image.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbskinsjigsaw.code.tex
Library (tcolorbox): 'tcbskinsjigsaw.code.tex' version '6.8.0'
)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbbreakable.code.tex
Library (tcolorbox): 'tcbbreakable.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pdfcol\pdfcol.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbhooks.code.tex
Library (tcolorbox): 'tcbhooks.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbtheorems.code.tex
Library (tcolorbox): 'tcbtheorems.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbfitting.code.tex
Library (tcolorbox): 'tcbfitting.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcblistingsutf8.code.tex
Library (tcolorbox): 'tcblistingsutf8.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcblistings.code.tex
Library (tcolorbox): 'tcblistings.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcblistingscore.code.tex
Library (tcolorbox): 'tcblistingscore.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbprocessing.code.tex
Library (tcolorbox): 'tcbprocessing.code.tex' version '6.8.0'
)))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbexternal.code.tex
Library (tcolorbox): 'tcbexternal.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbmagazine.code.tex
Library (tcolorbox): 'tcbmagazine.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbvignette.code.tex
Library (tcolorbox): 'tcbvignette.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/frontendlayer/tikz/libraries\tikzlibraryfadings.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/libraries\pgflibraryfadings.code.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbposter.code.tex
Library (tcolorbox): 'tcbposter.code.tex' version '6.8.0'
)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/titlesec\titlesec.sty) (problem-sheet-cf-koxia-and-game.aux)
*geometry* driver: auto-detecting
*geometry* detected driver: xetex
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\mt-LatinModernRoman.cfg)

Package unicode-math Warning: Using \overbracket and \underbracket from
(unicode-math)                `mathtools' package.
(unicode-math)                 
(unicode-math)                 Use \Uoverbracket and \Uunderbracket for
(unicode-math)                original `unicode-math' definition.


Package unicode-math Warning: I'm going to overwrite the following commands
(unicode-math)                from the `mathtools' package: 
(unicode-math)                 
(unicode-math)                     \dblcolon, \coloneqq, \Coloneqq, \eqqcolon.
(unicode-math)                
(unicode-math)                 
(unicode-math)                 Note that since I won't overwrite the other
(unicode-math)                colon-like commands, using them will lead to
(unicode-math)                inconsistencies.


Package hyperref Warning: Rerun to get /PageLabels entry.


[1]
No file problem-sheet-cf-koxia-and-game.toc.

[2]
[3]
[4]
[5]
[6]
[7]
Runaway argument?
1 3 1 2 3 1 3 2 \end {verbatim} Output \begin {verbatim} 24 \end {ver\ETC.
problem-sheet-cf-koxia-and-game.tex:230: Paragraph ended before \verbatim@ was complete.
<to be read again> 
                   \par 
l.230 ... twice, making a permutation impossible.}
                                                  
Runaway argument?
1 2 1 1 1 1 \end {verbatim} Output \begin {verbatim} 0 \end {verbatim\ETC.
problem-sheet-cf-koxia-and-game.tex:230: Paragraph ended before \verbatim@ was complete.
<to be read again> 
                   \par 
l.230 ... twice, making a permutation impossible.}
                                                  

Overfull \hbox (12.63336pt too wide) in paragraph at lines 233--233
[]\TU/LatinModernMono(0)/m/n/12 % ============ 3. Canonical Mathematical Model (own page) ============[] 

Overfull \hbox (2552.61288pt too wide) in paragraph at lines 235--235
[]\TU/LatinModernMono(0)/m/n/12 \MODEL{Let $V=\{1,\ldots,n\}$. For each index $i$ with $a_i \ne b_i$, add an undirected edge $e_i=\{a_i,b_i\}$ in a multigraph $G$ on $V$. Let $S=\{v \in V : \exists i,~a_i=b_i=v\}$ be values forced by equal pairs. A $c$ is winning iff (i) no value in $S$ appears more than once (else impossible), and (ii) for every connected component of the induced subgraph $G[U]$ with $U=V\setminus S$ that is a cycle with $k$ edges, at least one of those $k$ edges has $c_i \in \{a_i,b_i\}$.}[] 

Overfull \hbox (31.1734pt too wide) in paragraph at lines 247--247
[]\TU/LatinModernMono(0)/m/n/12 \text{If }\exists v:\left|\{i: a_i=b_i=v\}\right|\ge 2,\ \text{answer}=0.[] 

Overfull \hbox (253.65332pt too wide) in paragraph at lines 250--250
[]\TU/LatinModernMono(0)/m/n/12 \text{Otherwise, write }E_\text{cyc}=\bigsqcup_j C_j,\ \ C_j \text{ a cycle component with }k_j\text{ edges}.[] 

Overfull \hbox (167.13339pt too wide) in paragraph at lines 253--253
[]\TU/LatinModernMono(0)/m/n/12 \text{Answer} \equiv n^{n-\sum_j k_j}\cdot \prod_j\bigl(n^{k_j}-(n-2)^{k_j}\bigr)\ \ (\bmod M).[] 

Overfull \hbox (1390.77318pt too wide) in paragraph at lines 256--256
[]\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Self-loops correspond exactly to $a_i=b_i$ and are treated as forced values; multi-edges are allowed between two vertices. Cycle components are those connected components of $G[U]$ in which every vertex has degree $2$ (including the case of two vertices with two parallel edges).}[] 

Overfull \hbox (309.27327pt too wide) in paragraph at lines 260--260
[]\TU/LatinModernMono(0)/m/n/12 \item In a tree component of $G[U]$, Koxia can orient removals to ensure no label is chosen twice, independent of $c$.[] 

Overfull \hbox (500.8532pt too wide) in paragraph at lines 261--261
[]\TU/LatinModernMono(0)/m/n/12 \item In a cycle component of $G[U]$, Mahiru can force a duplicate unless some edge has $c_i$ equal to an endpoint, which lets Koxia break the cycle.[] 

Overfull \hbox (778.95331pt too wide) in paragraph at lines 268--268
[]\TU/LatinModernMono(0)/m/n/12 \WHICHFORMULA{Simulate optimal play using game DP on small $n$: try all arrays $c \in [1..n]^n$ and solve the perfect-information game via minimax with memoization over $(i,\text{used\_mask})$.}[] 

Overfull \hbox (123.86139pt too wide) in paragraph at lines 269--269
[]\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Intended for sanity checks only; exponential in $n$, so use for $n \le 6$.}[] 

Overfull \hbox (921.09319pt too wide) in paragraph at lines 273--273
[]\TU/LatinModernMono(0)/m/n/12 \item Solve a recursive game: at round $i$, Koxia removes one of $\{a_i,b_i,c_i\}$; Mahiru then picks one from the remaining two to minimize the chance of completing a permutation; propagate used labels via a bitmask.[] 

Overfull \hbox (123.87332pt too wide) in paragraph at lines 274--274
[]\TU/LatinModernMono(0)/m/n/12 \item Count $c$ for which Koxia has a winning strategy (reaches mask with all bits $1$).[] 

Overfull \hbox (278.36136pt too wide) in paragraph at lines 276--276
[]\TU/LatinModernMono(0)/m/n/12 \COMPLEXITY{Exponential. For each $c$ there are at most $6^n$ game branches; enumerating $c$ itself costs $n^n$.}[] 

Overfull \hbox (797.49327pt too wide) in paragraph at lines 283--283
[]\TU/LatinModernMono(0)/m/n/12 \CORRECTNESS{The minimax DP explores all strategy profiles in a sequential perfect-information game and decides if Koxia has a strategy guaranteeing a permutation regardless of Mahiru[]s reactions.}[] 

Overfull \hbox (31.17339pt too wide) in paragraph at lines 284--284
[]\TU/LatinModernMono(0)/m/n/12 \EDGECASES{All $a_i=b_i$; repeated forced values; parallel edges; $n=1$.}[] 

Overfull \hbox (148.5932pt too wide) in paragraph at lines 313--313
[]                \TU/LatinModernMono(0)/m/n/12 worst = worst and res  # Mahiru wants to make False; AND = min over booleans[] 

Overfull \hbox (49.71321pt too wide) in paragraph at lines 314--314
[]            \TU/LatinModernMono(0)/m/n/12 best = best or worst  # Koxia wants True; OR = max over booleans[] 

Overfull \hbox (216.57335pt too wide) in paragraph at lines 331--331
[]\TU/LatinModernMono(0)/m/n/12 \VALIDATION{Use for $n \le 3$ to cross-check the optimal solution on random seeds; see later sections.}[] 

Overfull \hbox (803.67323pt too wide) in paragraph at lines 337--337
[]\TU/LatinModernMono(0)/m/n/12 \WHICHFORMULA{Model indices with $a_i \ne b_i$ as edges in a multigraph on vertices $1..n$. Values with $a_i=b_i$ are forced. Only cycle components within the unforced vertex set $U$ constrain $c$.}[] 

Overfull \hbox (272.19337pt too wide) in paragraph at lines 338--338
[]\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Undirected multigraph; removing forced vertices $S$ destroys any cycle containing a forced vertex.}[] 

Overfull \hbox (259.83328pt too wide) in paragraph at lines 341--341
[]\TU/LatinModernMono(0)/m/n/12 \item Count forced values $S$ from indices with $a_i=b_i$; if any value appears at least twice, answer is $0$.[] 

Overfull \hbox (148.59332pt too wide) in paragraph at lines 342--342
[]\TU/LatinModernMono(0)/m/n/12 \item Partition edges ($a_i \ne b_i$) into those touching $S$ and those in $U=V\setminus S$.[] 

Overfull \hbox (673.89325pt too wide) in paragraph at lines 343--343
[]\TU/LatinModernMono(0)/m/n/12 \item Build $G[U]$ from the latter; for each connected component, compute number of edges $k$ and check if all its vertices have degree $2$ (cycle) or not (acyclic/with leaves).[] 

Overfull \hbox (49.71338pt too wide) in paragraph at lines 348--348
[]\TU/LatinModernMono(0)/m/n/12 \item For each non-cycle component in $G[U]$ with $k$ edges: factor $n^{k}$.[] 

Overfull \hbox (86.79337pt too wide) in paragraph at lines 349--349
[]\TU/LatinModernMono(0)/m/n/12 \item For each cycle component in $G[U]$ with $k$ edges: factor $n^{k}-(n-2)^{k}$.[] 

Overfull \hbox (105.33334pt too wide) in paragraph at lines 355--355
[]\TU/LatinModernMono(0)/m/n/12 T(n) &= \mathcal{O}(n) \text{ per test (building degrees, DFS/BFS on }G[U]\text{)} \\[] 

Overfull \hbox (2120.01295pt too wide) in paragraph at lines 359--359
[]\TU/LatinModernMono(0)/m/n/12 \CORRECTNESS{Forced equal pairs fix distinct labels or fail immediately. In $G[U]$, trees can be oriented by Koxia to cap each vertex[]s selection to at most once regardless of $c$, while a pure cycle allows Mahiru to force a duplicate unless some edge has $c_i$ equal to an endpoint, which Koxia uses to fix that edge and break the cycle. Independence across disjoint components yields multiplicative counting.}[] 

Overfull \hbox (6.45332pt too wide) in paragraph at lines 379--379
[]    \TU/LatinModernMono(0)/m/n/12 touch_forced_edges = 0  # edges with a!=b and one endpoint forced[] 

Overfull \hbox (31.17319pt too wide) in paragraph at lines 430--430
[]            \TU/LatinModernMono(0)/m/n/12 add = (pow(n, k_edges, MOD) - pow(n - 2, k_edges, MOD)) % MOD[] 

Overfull \hbox (525.57327pt too wide) in paragraph at lines 488--488
[]\TU/LatinModernMono(0)/m/n/12 \VALIDATION{Checked on $n\in\{1,2,3\}$ against a brute-force game solver; includes cases with forced duplicates, paths, and $2$-cycles (parallel edges).}[] 

Overfull \hbox (1866.63307pt too wide) in paragraph at lines 494--494
[]\TU/LatinModernMono(0)/m/n/12 \WHICHFORMULA{Let $S=\{v:\exists i,~a_i=b_i=v\}$ with all counts $\le 1$ else answer $0$. For edges with endpoints in $U=V\setminus S$, decompose $G[U]$ into connected components. If a component is a cycle with $k$ edges, it contributes $n^k-(n-2)^k$; otherwise, it contributes $n^{k}$. Multiply also by $n$ for each index with $a_i=b_i$ and for each edge touching $S$.}[] 

Overfull \hbox (309.27335pt too wide) in paragraph at lines 495--495
[]\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Works for multigraphs with parallel edges; self-loops exist only for equal pairs and are handled in $S$.}[] 

Overfull \hbox (18.81332pt too wide) in paragraph at lines 498--498
[]\TU/LatinModernMono(0)/m/n/12 \item Count forced equal pairs; if any value appears twice, output $0$.[] 

Overfull \hbox (136.23334pt too wide) in paragraph at lines 499--499
[]\TU/LatinModernMono(0)/m/n/12 \item Count $f=\#\{i:a_i=b_i\}$ and $e_S=$ edges with $a_i\ne b_i$ and an endpoint in $S$.[] 

Overfull \hbox (228.93332pt too wide) in paragraph at lines 500--500
[]\TU/LatinModernMono(0)/m/n/12 \item Build $G[U]$ with remaining edges; for each component, compute $k$ and whether all degrees are $2$.[] 

Overfull \hbox (476.10942pt too wide) in paragraph at lines 503--503
[]\TU/LatinModernMono(0)/m/n/12 \text{ans} \equiv n^{f+e_S}\cdot \prod_{\text{non-cyc CC}} n^{k}\cdot \prod_{\text{cyc CC}} \bigl(n^{k}-(n-2)^{k}\bigr)\ (\bmod~998{,}244{,}353).[] 

Overfull \hbox (791.31325pt too wide) in paragraph at lines 506--506
[]\TU/LatinModernMono(0)/m/n/12 \OPTIMALITY{Linear-time traversal and modular exponentiation are optimal up to constants for input scale $\sum n \le 10^5$. The component-type dichotomy is tight: cycles are the only obstruction.}[] 

Overfull \hbox (12.63339pt too wide) in paragraph at lines 507--507
[]\TU/LatinModernMono(0)/m/n/12 \COMPLEXITY{Per test: $\mathcal{O}(n)$ time, $\mathcal{O}(n)$ memory.}[] 

Overfull \hbox (31.17319pt too wide) in paragraph at lines 593--593
[]            \TU/LatinModernMono(0)/m/n/12 add = (pow(n, k_edges, MOD) - pow(n - 2, k_edges, MOD)) % MOD[] 

Overfull \hbox (37.35329pt too wide) in paragraph at lines 645--645
[]    \TU/LatinModernMono(0)/m/n/12 assert solve_case(2, [1, 2], [2, 1]) == brute_count(2, [1, 2], [2, 1])[] 

Overfull \hbox (111.5132pt too wide) in paragraph at lines 646--646
[]    \TU/LatinModernMono(0)/m/n/12 assert solve_case(3, [1, 2, 3], [1, 3, 2]) == brute_count(3, [1, 2, 3], [1, 3, 2])[] 

Overfull \hbox (513.21327pt too wide) in paragraph at lines 661--661
[]\TU/LatinModernMono(0)/m/n/12 \VALIDATION{Exactly 3 asserts embedded in the self-test plus two more, all for small $n$ and verified by brute force. Tested also on custom small I/O.}[] 

Overfull \hbox (599.70927pt too wide) in paragraph at lines 662--662
[]\TU/LatinModernMono(0)/m/n/12 \RESULT{For each test case, the number of arrays $c$ modulo $998{,}244{,}353$ that guarantee Koxia[]s win under optimal play, using the cycle-break counting formula.}[] 

Overfull \hbox (86.79333pt too wide) in paragraph at lines 665--665
[]\TU/LatinModernMono(0)/m/n/12 % ============ 7. Testing & Final Reference Implementation (own page) ============[] 

Overfull \hbox (1199.19313pt too wide) in paragraph at lines 667--667
[]\TU/LatinModernMono(0)/m/n/12 \LINE{TEST PLAN}{Unit tests for degenerate cases (all equal pairs, repeated forced value), small cycles (parallel edges, $3$-cycles), and mixed components with forced vertices. Property check: for random $n\le 3$, compare final solver vs brute-force game count.}[] 

Overfull \hbox (222.75336pt too wide) in paragraph at lines 668--668
[]\TU/LatinModernMono(0)/m/n/12 \LINE{CROSS-CHECKS}{Baseline brute-force vs optimal solution on tiny instances; compare counts exactly.}[] 

Overfull \hbox (12.63333pt too wide) in paragraph at lines 673--673
[]\TU/LatinModernMono(0)/m/n/12 \item A cycle of length $k$ with and without a forced vertex adjacent.[] 

Overfull \hbox (31.17319pt too wide) in paragraph at lines 786--786
[]            \TU/LatinModernMono(0)/m/n/12 add = (pow(n, k_edges, MOD) - pow(n - 2, k_edges, MOD)) % MOD[] 

Overfull \hbox (37.35329pt too wide) in paragraph at lines 800--800
[]    \TU/LatinModernMono(0)/m/n/12 # 2-cycle parallel edges with no forced vertices: k=2 -> n^2 - (n-2)^2[] 

Overfull \hbox (55.89323pt too wide) in paragraph at lines 803--803
[]    \TU/LatinModernMono(0)/m/n/12 b = [3, 2, 1]  # one edge touches forced vertex if we make a=b at index 3[] 

Overfull \hbox (692.43324pt too wide) in paragraph at lines 827--827
[]\TU/LatinModernMono(0)/m/n/12 \WHAT{Count $c$ arrays so that every cycle component in the unforced multigraph has at least one edge with $c_i$ equal to an endpoint; everything else contributes a factor of $n$.}[] 

Overfull \hbox (519.39325pt too wide) in paragraph at lines 828--828
[]\TU/LatinModernMono(0)/m/n/12 \WHY{This pattern (forced picks + cycle vs tree dichotomy) is common in adversarial selection games and shows up in graph-structure interview problems.}[] 

Overfull \hbox (12.63336pt too wide) in paragraph at lines 834--834
[]\TU/LatinModernMono(0)/m/n/12 \item For each component, compute $k$ and whether all degrees are $2$.[] 

Overfull \hbox (160.95337pt too wide) in paragraph at lines 835--835
[]\TU/LatinModernMono(0)/m/n/12 \item Multiply by $n^{f+e_S}$, by $n^{k}$ for non-cycles, and by $n^{k}-(n-2)^{k}$ for cycles.[] 

Overfull \hbox (117.69334pt too wide) in paragraph at lines 840--840
[]\TU/LatinModernMono(0)/m/n/12 \item $a_i=b_i$ for many $i$ and the same value appears twice $\Rightarrow$ answer $0$.[] 

Overfull \hbox (191.85333pt too wide) in paragraph at lines 842--842
[]\TU/LatinModernMono(0)/m/n/12 \item Components touching any forced vertex are never cycles in $G[U]$; count them as unrestricted.[] 

Overfull \hbox (86.79338pt too wide) in paragraph at lines 844--844
[]\TU/LatinModernMono(0)/m/n/12 \item All edges in $U$ isolated (no edges) $\Rightarrow$ only $n^{f+e_S}$ remains.[] 

Overfull \hbox (92.97334pt too wide) in paragraph at lines 849--849
[]\TU/LatinModernMono(0)/m/n/12 \item Forgetting to remove vertices with a forced occurrence when detecting cycles.[] 

Overfull \hbox (185.67334pt too wide) in paragraph at lines 851--851
[]\TU/LatinModernMono(0)/m/n/12 \item Not handling parallel edges correctly; they still give degree $2$ per vertex in a $2$-cycle.[] 

Overfull \hbox (49.71338pt too wide) in paragraph at lines 853--853
[]\TU/LatinModernMono(0)/m/n/12 \item Mixing $1$-based labels with $0$-based bitmasks in brute-force checks.[] 

Overfull \hbox (1168.29323pt too wide) in paragraph at lines 856--856
[]\TU/LatinModernMono(0)/m/n/12 \FAILMODES{Approaches that treat each edge independently will fail on cycles; Mahiru[]s global coordination matters only in cycles of the unforced subgraph. The presented method survives by collapsing interaction to a per-component multiplicative condition.}[] 

Overfull \hbox (1044.6931pt too wide) in paragraph at lines 857--857
[]\TU/LatinModernMono(0)/m/n/12 \ELI{Some values are locked in place; the rest form a graph of conflicts. If the conflicts make a loop, you must place at least one [][]helpful[][] $c_i$ on that loop to break it. Count all choices that achieve this, component by component.}[] 
)
! Emergency stop.
<*> ./problem-sheet-cf-koxia-and-game.tex
                                         
Output written on problem-sheet-cf-koxia-and-game.pdf (7 pages).
SyncTeX written on problem-sheet-cf-koxia-and-game.synctex.gz.
Transcript written on problem-sheet-cf-koxia-and-game.log.


