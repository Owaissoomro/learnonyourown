=== latexmk -xelatex ===
Initial Win CP for (console input, console output, system): (CP437, CP65001, CP1252)
I changed them all to CP1252
Rc files read:
  NONE
Latexmk: This is Latexmk, John Collins, 15 June 2025. Version 4.87.
No existing .aux file, so I'll make a simple one, and require run of *latex.
Latexmk: applying rule 'pdflatex'...
Rule 'pdflatex':  Reasons for rerun
Category 'other':
  Rerun of 'pdflatex' forced or previously required:
    Reason or flag: 'Initial setup'

------------
Run number 1 of rule 'pdflatex'
------------
------------
Running 'pdflatex  -interaction=nonstopmode -file-line-error -recorder  "problem-sheet-cf-mages-and-monsters.tex"'
------------
This is pdfTeX, Version 3.141592653-2.6-1.40.27 (MiKTeX 25.4) (preloaded format=pdflatex.fmt)
 restricted \write18 enabled.
entering extended mode
(problem-sheet-cf-mages-and-monsters.tex
LaTeX2e <2025-06-01> patch level 1
L3 programming layer <2025-09-02>
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\article.cls
Document Class: article 2025/01/22 v1.4n Standard LaTeX document class
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\size12.clo))
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\keyval.sty)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\ifvtex.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\iftex.sty))
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.cfg))

(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/etoolbox\etoolbox.sty)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype-pdf
tex.def)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.cfg
))
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/setspace\setspace.sty)
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3packages/xparse\xpars
e.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3kernel\expl3.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3backend\l3backend-pdf
tex.def)))

C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.sty:10
1: Fatal Package fontspec Error: The fontspec package requires either XeTeX or
(fontspec)                      LuaTeX.
(fontspec)                      
(fontspec)                      You must change your typesetting engine to,
(fontspec)                      e.g., "xelatex" or "lualatex" instead of
(fontspec)                      "latex" or "pdflatex".

Type <return> to continue.
 ...                                              
                                                  
l.101 \msg_fatal:nn {fontspec} {cannot-use-pdftex}
                                                  

Latexmk: Getting log file 'problem-sheet-cf-mages-and-monsters.log'
Latexmk: Examining 'problem-sheet-cf-mages-and-monsters.fls'
Latexmk: Examining 'problem-sheet-cf-mages-and-monsters.log'
Latexmk: Errors, in force_mode: so I tried finishing targets
Collected error summary (may duplicate other messages):
  pdflatex: Command for 'pdflatex' gave return code 1
      Refer to 'problem-sheet-cf-mages-and-monsters.log' and/or above output for details


Latexmk: Using bibtex to make bibliography file(s).
Failure to make 'problem-sheet-cf-mages-and-monsters.pdf'
Reverting Windows console CPs to (in,out) = (437,65001)

=== xelatex pass 1 ===
This is XeTeX, Version 3.141592653-2.6-0.999997 (MiKTeX 25.4) (preloaded format=xelatex.fmt)
 restricted \write18 enabled.
entering extended mode
(problem-sheet-cf-mages-and-monsters.tex
LaTeX2e <2025-06-01> patch level 1
L3 programming layer <2025-09-02>
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\article.cls
Document Class: article 2025/01/22 v1.4n Standard LaTeX document class
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\size12.clo)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\keyval.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\ifvtex.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/iftex\iftex.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/geometry\geometry.cfg)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/etoolbox\etoolbox.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype-xetex.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\microtype.cfg)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/setspace\setspace.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3packages/xparse\xparse.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3kernel\expl3.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3backend\l3backend-xetex.def))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec-xetex.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\fontenc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fontspec\fontspec.cfg))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsmath.sty
For additional information on amsmath, use the `?' option.
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amstext.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsgen.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsbsy.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amsmath\amsopn.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/mathtools\mathtools.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\calc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/mathtools\mhsetup.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/amscls\amsthm.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/unicode-math\unicode-math.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/unicode-math\unicode-math-xetex.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/l3packages/l3keys2e\l3keys2e.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\fix-cm.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\ts1enc.def)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/unicode-math\unicode-math-table.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/xcolor\xcolor.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics-cfg\color.cfg) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics-def\xetex.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\mathcolor.ltx)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/xurl\xurl.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/url\url.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\hyperref.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/kvsetkeys\kvsetkeys.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/kvdefinekeys\kvdefinekeys.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pdfescape\pdfescape.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/ltxcmds\ltxcmds.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pdftexcmds\pdftexcmds.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/infwarerr\infwarerr.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hycolor\hycolor.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\nameref.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/refcount\refcount.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/gettitlestring\gettitlestring.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/kvoptions\kvoptions.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/stringenc\stringenc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\pd1enc.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/intcalc\intcalc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\puenc.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/bitset\bitset.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/bigintcalc\bigintcalc.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/hyperref\hxetex.def (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/rerunfilecheck\rerunfilecheck.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/uniquecounter\uniquecounter.sty))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/fancyhdr\fancyhdr.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/enumitem\enumitem.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/booktabs\booktabs.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\tabularx.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\array.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\listings.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\lstpatch.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\lstmisc.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/listings\listings.cfg)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/upquote\upquote.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/base\textcomp.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcolorbox.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/frontendlayer\tikz.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/basiclayer\pgf.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/utilities\pgfrcs.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfutil-common.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfutil-latex.def) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfrcs.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf\pgf.revision.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/basiclayer\pgfcore.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\graphicx.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\graphics.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics\trig.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/graphics-cfg\graphics.cfg))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/systemlayer\pgfsys.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfkeys.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfkeyslibraryfiltered.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgf.cfg) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys-xetex.def (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys-dvipdfmx.def (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsys-common-pdf.def)))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsyssoftpath.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/systemlayer\pgfsysprotocol.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcore.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmath.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathutil.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathparser.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.basic.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.trigonometric.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.random.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.comparison.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.base.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.round.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.misc.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfunctions.integerarithmetics.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathcalc.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmathfloat.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfint.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepoints.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepathconstruct.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepathusage.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorescopes.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoregraphicstate.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoretransformations.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorequick.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreobjects.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepathprocessing.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorearrows.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreshade.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreimage.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoreexternal.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorelayers.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcoretransparency.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorepatterns.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/basiclayer\pgfcorerdf.code.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/modules\pgfmoduleshapes.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/modules\pgfmoduleplot.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/compatibility\pgfcomp-version-0-65.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/compatibility\pgfcomp-version-1-18.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/utilities\pgffor.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/utilities\pgfkeys.sty
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgfkeys.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pgf/math\pgfmath.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/math\pgfmath.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/utilities\pgffor.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/frontendlayer/tikz\tikz.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/libraries\pgflibraryplothandlers.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/modules\pgfmodulematrix.code.tex) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/frontendlayer/tikz/libraries\tikzlibrarytopaths.code.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tools\verbatim.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/environ\environ.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/trimspaces\trimspaces.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbraster.code.tex
Library (tcolorbox): 'tcbraster.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbskins.code.tex
Library (tcolorbox): 'tcbskins.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tikzfill\tikzfill.image.sty (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tikzfill\tikzfill-common.sty) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tikzfill\tikzlibraryfill.image.code.tex)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbskinsjigsaw.code.tex
Library (tcolorbox): 'tcbskinsjigsaw.code.tex' version '6.8.0'
)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbbreakable.code.tex
Library (tcolorbox): 'tcbbreakable.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/pdfcol\pdfcol.sty)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbhooks.code.tex
Library (tcolorbox): 'tcbhooks.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbtheorems.code.tex
Library (tcolorbox): 'tcbtheorems.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbfitting.code.tex
Library (tcolorbox): 'tcbfitting.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcblistingsutf8.code.tex
Library (tcolorbox): 'tcblistingsutf8.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcblistings.code.tex
Library (tcolorbox): 'tcblistings.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcblistingscore.code.tex
Library (tcolorbox): 'tcblistingscore.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbprocessing.code.tex
Library (tcolorbox): 'tcbprocessing.code.tex' version '6.8.0'
)))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbexternal.code.tex
Library (tcolorbox): 'tcbexternal.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbmagazine.code.tex
Library (tcolorbox): 'tcbmagazine.code.tex' version '6.8.0'
) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbvignette.code.tex
Library (tcolorbox): 'tcbvignette.code.tex' version '6.8.0'
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/frontendlayer/tikz/libraries\tikzlibraryfadings.code.tex (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/generic/pgf/libraries\pgflibraryfadings.code.tex))) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/tcolorbox\tcbposter.code.tex
Library (tcolorbox): 'tcbposter.code.tex' version '6.8.0'
)) (C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/titlesec\titlesec.sty) (problem-sheet-cf-mages-and-monsters.aux)
*geometry* driver: auto-detecting
*geometry* detected driver: xetex
(C:\Users\osoom\AppData\Local\Programs\MiKTeX\tex/latex/microtype\mt-LatinModernRoman.cfg)

Package unicode-math Warning: Using \overbracket and \underbracket from
(unicode-math)                `mathtools' package.
(unicode-math)                 
(unicode-math)                 Use \Uoverbracket and \Uunderbracket for
(unicode-math)                original `unicode-math' definition.


Package unicode-math Warning: I'm going to overwrite the following commands
(unicode-math)                from the `mathtools' package: 
(unicode-math)                 
(unicode-math)                     \dblcolon, \coloneqq, \Coloneqq, \eqqcolon.
(unicode-math)                
(unicode-math)                 
(unicode-math)                 Note that since I won't overwrite the other
(unicode-math)                colon-like commands, using them will lead to
(unicode-math)                inconsistencies.


Package hyperref Warning: Rerun to get /PageLabels entry.


[1]
No file problem-sheet-cf-mages-and-monsters.toc.

[2]
[3]
[4]
[5]
[6]
[7]
Runaway argument?
3 100 1 4 9 2 19 49 2 17 49 \end {verbatim} Output: \begin {verbatim}\ETC.
problem-sheet-cf-mages-and-monsters.tex:220: Paragraph ended before \verbatim@ was complete.
<to be read again> 
                   \par 
l.220 \end{itemize}}
                    

Overfull \hbox (1216.48476pt too wide) in paragraph at lines 225--225
 []\TU/LatinModernMono(0)/m/n/12 \MODEL{Let spells be points $p_i=(y_i,x_i)$ with mana-per-second $y_i$ and damage-per-second $x_i$. In a fight with time $t$ and mana $m$, choose nonnegative time allocations $z_i$ to maximize $\sum_i x_i z_i$ subject to $\sum_i z_i \le t$ and $\sum_i y_i z_i \le m$.}[] 

Overfull \hbox (277.12488pt too wide) in paragraph at lines 242--242
 []\TU/LatinModernMono(0)/m/n/12 X(c)=\max\Bigl\{\sum_i \lambda_i x_i:\ \sum_i \lambda_i \le 1,\ \sum_i \lambda_i y_i \le c,\ \lambda_i \ge 0\Bigr\},[] 

Overfull \hbox (456.34486pt too wide) in paragraph at lines 246--246
 []\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Idle time is allowed; mixing spells is allowed continuously; no simultaneous casting. Include the origin $(0,0)$ to capture idling.}[] 

Overfull \hbox (697.36487pt too wide) in paragraph at lines 247--247
 []\TU/LatinModernMono(0)/m/n/12 \INVARIANTS{The upper envelope over $(y,x)$ is concave and piecewise-linear; along the maintained hull, $y$ and $x$ are strictly increasing and segment slopes are strictly decreasing.}[] 

[8]
Overfull \hbox (888.94475pt too wide) in paragraph at lines 253--253
 []\TU/LatinModernMono(0)/m/n/12 \WHICHFORMULA{Rebuild the upper convex envelope from scratch on each query using all learned spells plus the origin $(0,0)$. Evaluate $X(c)$ at $c=m/t$ by binary search on segments and compare $t\cdot X(c)$ to $h$.}[] 

Overfull \hbox (116.4449pt too wide) in paragraph at lines 254--254
 []\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Number of spells is small for testing; this is for clarity, not performance.}[] 

Overfull \hbox (734.44472pt too wide) in paragraph at lines 258--258
 []\TU/LatinModernMono(0)/m/n/12 \item Maintain a list of all learned spells; on a type-2 query, deduplicate by $y$ keeping maximum $x$, sort by $y$, prune dominated points with nonincreasing slopes to build the upper hull.[] 

Overfull \hbox (573.7648pt too wide) in paragraph at lines 259--259
 []\TU/LatinModernMono(0)/m/n/12 \item Locate where $c=m/t$ falls between consecutive $y$[]s (including origin) and linearly interpolate $X(c)$; check if $t\cdot X(c)\ge h$ using integer arithmetic.[] 

Overfull \hbox (326.56483pt too wide) in paragraph at lines 261--261
 []\TU/LatinModernMono(0)/m/n/12 \COMPLEXITY{Let $n$ be spells so far. Each query rebuild costs $O(n\log n)$ sort plus $O(n)$ hull; answering is $O(\log n)$.[] 

Overfull \hbox (746.80482pt too wide) in paragraph at lines 268--268
 []\TU/LatinModernMono(0)/m/n/12 \CORRECTNESS{The convex combination model proves that the optimal average DPS at budget $c$ is the value of the upper convex envelope at $c$. Rebuilding the hull yields this envelope exactly.}[] 

Overfull \hbox (308.02487pt too wide) in paragraph at lines 269--269
 []\TU/LatinModernMono(0)/m/n/12 \EDGECASES{No spells yet; $m=0$; $t$ very large or $c$ beyond the last point; duplicate $y$ values keep the largest $x$.}[] 

Overfull \hbox (23.74495pt too wide) in paragraph at lines 287--287
 []\TU/LatinModernMono(0)/m/n/12 def build_upper_hull(points: List[Tuple[int,int]]) -> List[Tuple[int,int]]:[] 

[9]
Overfull \hbox (17.56493pt too wide) in paragraph at lines 319--319
 []\TU/LatinModernMono(0)/m/n/12 def interpolate_damage(hull: List[Tuple[int,int]], t: int, m: int) -> int:[] 

Overfull \hbox (36.10486pt too wide) in paragraph at lines 320--320
 []    \TU/LatinModernMono(0)/m/n/12 # Return maximum damage (integer exact) achievable with time t and mana m[] 

[10]
Overfull \hbox (246.2248pt too wide) in paragraph at lines 344--344
 []    \TU/LatinModernMono(0)/m/n/12 # Exact damage is num/den; return floor is not needed since we compare with h using cross-multiply outside.[] 

Overfull \hbox (79.36487pt too wide) in paragraph at lines 345--345
 []    \TU/LatinModernMono(0)/m/n/12 # Here we can return floor safely if caller uses ">=" comparison conservatively.[] 

[11]
[12]
Overfull \hbox (17.55289pt too wide) in paragraph at lines 420--420
 []\TU/LatinModernMono(0)/m/n/12 \item Interpolation case: between $(2,4)$ and $(6,10)$ at $c=4$ gives $7$.[] 

Overfull \hbox (42.28493pt too wide) in paragraph at lines 421--421
 []\TU/LatinModernMono(0)/m/n/12 \item Note example yields 100 damage for $(t,m)=(20,100)$ with spell $(5,10)$.[] 

Overfull \hbox (938.38484pt too wide) in paragraph at lines 428--428
 []\TU/LatinModernMono(0)/m/n/12 \WHICHFORMULA{Maintain the set of non-dominated points with strictly increasing $y$ and $x$, pruning dominated insertions. Rebuild local convexity around the insertion point. Queries evaluate the piecewise-linear envelope.}[] 

Overfull \hbox (240.04488pt too wide) in paragraph at lines 429--429
 []\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Use a sorted list with binary search; amortized efficient in practice but $O(n)$ insertion cost.}[] 

Overfull \hbox (5.2049pt too wide) in paragraph at lines 432--432
 []\TU/LatinModernMono(0)/m/n/12 \item Keep a sorted list by $y$; for duplicate $y$, keep the larger $x$.[] 

Overfull \hbox (499.60486pt too wide) in paragraph at lines 433--433
 []\TU/LatinModernMono(0)/m/n/12 \item On insertion $(y,x)$: if predecessor has $x \ge x_{\text{new}}$, discard. While successor has $x \le x_{\text{new}}$, delete it. Insert the point.[] 

Overfull \hbox (332.74486pt too wide) in paragraph at lines 434--434
 []\TU/LatinModernMono(0)/m/n/12 \item Repair convexity locally by removing middle points that violate decreasing slopes on either side of the inserted point.[] 

Overfull \hbox (215.32487pt too wide) in paragraph at lines 435--435
 []\TU/LatinModernMono(0)/m/n/12 \item On query, binary search predecessor/successor around $c=m/t$ and compare using cross-multiplication.[] 

Overfull \hbox (190.6049pt too wide) in paragraph at lines 437--437
 []\TU/LatinModernMono(0)/m/n/12 \COMPLEXITY{Insertions are $O(n)$ due to list shifts; convexity fix is local. Queries are $O(\log n)$.[] 

Overfull \hbox (443.98488pt too wide) in paragraph at lines 444--444
 []\TU/LatinModernMono(0)/m/n/12 \CORRECTNESS{Local dominance pruning and slope monotonicity guarantee the maintained list equals the upper convex envelope of all seen spells.}[] 

[13]
Overfull \hbox (97.90483pt too wide) in paragraph at lines 492--492
 []        \TU/LatinModernMono(0)/m/n/12 # bisect_right on threshold m//t is not enough due to exact boundary; do manual[] 

[14]
[15]
Overfull \hbox (184.4249pt too wide) in paragraph at lines 575--575
 []\TU/LatinModernMono(0)/m/n/12 \VALIDATION{Checks mixing interpolation, dominance pruning, and correctness on small crafted inputs.}[] 

Overfull \hbox (2384.5046pt too wide) in paragraph at lines 581--581
 []\TU/LatinModernMono(0)/m/n/12 \WHICHFORMULA{Maintain the upper convex envelope of points $(y,x)$ under insertions using an order-statistics treap keyed by $y$. Enforce: (i) strictly increasing $x$ with $y$ (dominance pruning), (ii) strictly decreasing segment slopes (concavity). For a query with $(t,h)$, find predecessor by the predicate $y\cdot t \le m$ and the successor; evaluate $D = t\cdot x_1 + \dfrac{(x_2-x_1)(m - t y_1)}{y_2-y_1}$ and compare to $h$ via cross-multiplication.}[] 

Overfull \hbox (283.30492pt too wide) in paragraph at lines 582--582
 []\TU/LatinModernMono(0)/m/n/12 \ASSUMPTIONS{Insertions only (no deletions from the universe); origin $(0,0)$ always present; $m$ is fixed globally.}[] 

Overfull \hbox (530.5048pt too wide) in paragraph at lines 585--585
 []\TU/LatinModernMono(0)/m/n/12 \item Treap stores nodes $(y,x)$ with random priorities from a fixed deterministic generator; supports find, predecessor/successor by $y$, erase, and insert.[] 

[16]
Overfull \hbox (623.20477pt too wide) in paragraph at lines 590--590
 []  \TU/LatinModernMono(0)/m/n/12 - Insert $(y,x)$. Then repeatedly remove middle neighbors that violate concavity: slope(prev2, prev) $\le$ slope(prev, cur) and slope(cur, next) $\le$ slope(next, next2).[] 

Overfull \hbox (178.24483pt too wide) in paragraph at lines 593--593
 []  \TU/LatinModernMono(0)/m/n/12 - If no successor, answer is $t \cdot X_{\max}$ where $X_{\max}$ is the maximum $x$ ever inserted.[] 

Overfull \hbox (289.48485pt too wide) in paragraph at lines 594--594
 []  \TU/LatinModernMono(0)/m/n/12 - Else evaluate the exact inequality with integer arithmetic and output YES/NO; update the rolling index $j$ if YES.[] 

Overfull \hbox (1204.12474pt too wide) in paragraph at lines 596--596
 []\TU/LatinModernMono(0)/m/n/12 \OPTIMALITY{LP duality implies $D(t,m)=t\cdot X(m/t)$ where $X$ is the upper convex envelope. The dynamic hull supports exact evaluations in $O(\log n)$ expected per update/query, which is optimal up to logarithmic factors for comparison-based dynamic convex hulls.}[] 

Overfull \hbox (567.58481pt too wide) in paragraph at lines 597--597
 []\TU/LatinModernMono(0)/m/n/12 \COMPLEXITY{Each insertion and query touches $O(\log n)$ nodes on average; removals are amortized $O(1)$ per insertion due to each node being deleted at most once.[] 

[17]
Overfull \hbox (11.38492pt too wide) in paragraph at lines 632--632
 []\TU/LatinModernMono(0)/m/n/12 def rotate_merge(a: Optional[Node], b: Optional[Node]) -> Optional[Node]:[] 

Overfull \hbox (73.18494pt too wide) in paragraph at lines 641--641
 []\TU/LatinModernMono(0)/m/n/12 def split(root: Optional[Node], key: int) -> Tuple[Optional[Node], Optional[Node]]:[] 

[18]
Overfull \hbox (48.46492pt too wide) in paragraph at lines 706--706
 []\TU/LatinModernMono(0)/m/n/12 def predecessor_by_cap(root: Optional[Node], t: int, m: int) -> Optional[Node]:[] 

[19]
[20]
[21]
Overfull \hbox (85.54478pt too wide) in paragraph at lines 805--805
 []        \TU/LatinModernMono(0)/m/n/12 # Compare: t*pred.x + (succ.x - pred.x)*(m - t*pred.y)/(succ.y - pred.y) >= h[] 

Overfull \hbox (73.1847pt too wide) in paragraph at lines 806--806
 []        \TU/LatinModernMono(0)/m/n/12 lhs = t * pred.x * (succ.y - pred.y) + (succ.x - pred.x) * (m - t * pred.y)[] 

[22]
Overfull \hbox (851.86476pt too wide) in paragraph at lines 867--867
 []\TU/LatinModernMono(0)/m/n/12 \RESULT{For each type-2 query, print YES if the optimal total damage $D(t,m)=t\cdot X(m/t)$ is at least $h$, else NO. If YES, advance the rolling index $j$ to the current query index for subsequent decodings.}[] 

Overfull \hbox (67.00488pt too wide) in paragraph at lines 870--870
 []\TU/LatinModernMono(0)/m/n/12 % ============ 7. Testing & Final Reference Implementation (own page) ============[] 

Overfull \hbox (913.66478pt too wide) in paragraph at lines 872--872
 []\TU/LatinModernMono(0)/m/n/12 \LINE{TEST PLAN}{Unit-test hull operations (dominance, convexity), interpolation correctness, and decoding with rolling index. Property checks: monotone nondecreasing $X(c)$; damage saturates at $\max x$ for large $c$.}[] 

Overfull \hbox (264.76488pt too wide) in paragraph at lines 873--873
 []\TU/LatinModernMono(0)/m/n/12 \LINE{CROSS-CHECKS}{Compare outputs between Baseline, Improved, and Optimal on small random sets: all must agree.}[] 

Overfull \hbox (530.50482pt too wide) in paragraph at lines 874--874
 []\TU/LatinModernMono(0)/m/n/12 \LINE{EDGE-CASE GENERATOR}{Generate spells with duplicate $y$, strictly increasing/decreasing $x$, extreme $m$ and $t$ (e.g., $m=0$, $t=1$, very large $m$).}[] 

[23]
Overfull \hbox (85.54489pt too wide) in paragraph at lines 892--892
 []\TU/LatinModernMono(0)/m/n/12 # Reference Code (Ready to Submit) is the Optimal implementation above (solve_all()).[] 

Overfull \hbox (36.10487pt too wide) in paragraph at lines 896--896
 []\TU/LatinModernMono(0)/m/n/12 # The final, ready-to-submit solution is provided in Approach C[]s code block.[] 

Overfull \hbox (60.82487pt too wide) in paragraph at lines 897--897
 []\TU/LatinModernMono(0)/m/n/12 # It contains read_input(), solve_all(), a main guard, and exactly three asserts.[] 

Overfull \hbox (388.36485pt too wide) in paragraph at lines 903--903
 []\TU/LatinModernMono(0)/m/n/12 \WHAT{Maintain the upper convex envelope of (mana/sec, damage/sec) points; answer queries by evaluating at average mana budget $m/t$.}[] 

Overfull \hbox (499.60483pt too wide) in paragraph at lines 904--904
 []\TU/LatinModernMono(0)/m/n/12 \WHY{This reduces a continuous-time, two-resource optimization to dynamic convex hull evaluation, a frequent theme in advanced interviews and contests.}[] 

Overfull \hbox (17.56491pt too wide) in paragraph at lines 908--908
 []\TU/LatinModernMono(0)/m/n/12 - Query: find predecessor by $y\cdot t \le m$, interpolate with successor.[] 

Overfull \hbox (11.3849pt too wide) in paragraph at lines 921--921
 []\TU/LatinModernMono(0)/m/n/12 - Slope comparison sign mistakes; use cross-multiplication with integers.[] 

[24]
Overfull \hbox (42.28491pt too wide) in paragraph at lines 924--924
 []\TU/LatinModernMono(0)/m/n/12 - Failing to ensure strictly increasing $x$ with $y$ breaks convexity checks.}[] 

Overfull \hbox (802.42479pt too wide) in paragraph at lines 925--925
 []\TU/LatinModernMono(0)/m/n/12 \FAILMODES{Naive recomputation TLE on large inputs; non-monotone hull corrupts queries; floating errors flip answers near equality. The treap-based hull preserves structure and answers in $O(\log n)$.}[] 

Overfull \hbox (1080.5247pt too wide) in paragraph at lines 926--926
 []\TU/LatinModernMono(0)/m/n/12 \ELI{Track the best trade-off curve between mana and damage as you learn spells. For a monster, see how much damage per second you can sustain given the average mana allowed. Multiply by the time limit and check if it meets the monster[]s health.}[] 
)
! Emergency stop.
<*> ./problem-sheet-cf-mages-and-monsters.tex
                                             
Output written on problem-sheet-cf-mages-and-monsters.pdf (24 pages).
SyncTeX written on problem-sheet-cf-mages-and-monsters.synctex.gz.
Transcript written on problem-sheet-cf-mages-and-monsters.log.


